# ColorSing LP 運用プラン

## ビジネスモデル

### サービス概要
カラーシング配信者向けのランキング＆特典管理LPをSaaS型で提供する。
セットアップは開発者が代行し、顧客には完成済みのページURLのみを渡す。

### 収益モデル: メンバーシップ連動型サブスク
| 項目 | 金額 |
|------|------|
| 初期費用 | **無料** |
| 月額利用料 | カラーシングメンバーシップ（800円/月） |

**仕組み:**
- 顧客がカラーシングのメンバーシップ（800円/月）に加入 = LP利用権の取得
- メンバーシップ退会 = LP利用停止（GitHub Pages無効化）
- 開発者へのバックは約400円/月/人

**初期費用を無料にする理由:**
- セットアップ作業は管理画面で15〜30分程度で完了するため、コスト負担が小さい
- 「メンバーシップに入るだけ」で始められるので、顧客の参入障壁が最小
- 顧客数を増やすことで月額収入を積み上げる戦略

**メリット:**
- 決済システムの構築が不要（プラットフォームが集金）
- 顧客にとって「メンバーシップ特典」なので加入の心理的ハードルが低い
- 退会検知が明確で、解約フローがシンプル
- 不具合対応・軽微な修正を月額に含められる

### LP特典の訴求ロジック: ライバー専用特典としての位置づけ

**背景:**
カラーシングにおいてライバー同士の投げ合いに対する効率低下措置が導入され、
ライバーがメンバーシップで取得したコインをギフトしてもライブスコアへの貢献度が
純リスナーに比べて低くなっている。

**問題:**
ライバーにとってメンバーシップに加入する旨味が薄れ、メンシプ離れのリスクがある。

**解決策:**
LPをライバー専用のメンバーシップ特典として提供することで、ギフト効率低下分を補填する。

| 会員タイプ | メンバーシップの価値 |
|-----------|-------------------|
| 純リスナー | コイン取得 → ギフト効率が高い → 十分な恩恵あり |
| ライバー | コイン取得 → ギフト効率が低い → **LP提供で補填** |

**訴求メッセージ例:**
> 「ライバーの皆さんのギフト効率低下を受けて、メンバーシップ特典として
> あなた専用のランキング＆特典管理ページを無料でご利用いただけるようになりました」

**この構造が成立する理由:**
- 純リスナーは高いギフト効率そのものが特典 → LP不要でも不公平感が出にくい
- ライバーはギフト効率低下の代わりにLPという実用ツールを得る → メンシプに留まる理由ができる
- プラットフォームの仕様変更をビジネスチャンスに転換する

### メンバーシップ特典: 選択制プラン

メンバーシップ特典を2プランの選択制にし、顧客ごとのニーズに対応する。

| | プランA（従来特典） | プランB（LP特典） |
|---|---|---|
| 10K特典 | 一緒にコンテンツ1h付与（永続権利） | なし |
| 20K特典 | オープンチャット招待（永続権利） | なし |
| 月間特典 | 月内に1曲覚える権利（月末失効） | なし |
| LP | なし | **LP付与（メンシプ加入期間のみ運用可能）** |

**ルール:**
- 両方の特典が毎月ほしい場合は、メンバーシップに**2口加入**で対応
- 特典プランは**月が替わるタイミングで切り替え可能**

**メリット:**
- LP単体で800円の独立した価値提案ができる
- 「曲リクエスト不要」なライバーにもメンシプ加入の理由を提供
- 2口加入による客単価UP（800円 → 1,600円）の可能性
- 特典の二重取得問題が発生しない（プランが完全に分離）

**運用:**
- 加入時にプランA/Bを選択してもらう（LINE等で確認）
- 月替わり時の切り替え希望もLINEで受付

---

## インフラ構成

```
GitHub Organization (Free)
  └─ colorsing-dashboard（例）
       ├─ customer-a-lp（リポジトリ）→ GitHub Pages で公開
       ├─ customer-b-lp（リポジトリ）→ GitHub Pages で公開
       └─ ...
```

### 使用サービス（すべて無料枠）
| サービス | 用途 | 制限 |
|---------|------|------|
| GitHub Organization (Free) | リポジトリ集中管理 | リポジトリ数無制限 |
| GitHub Pages | 静的サイトホスティング | 100GB帯域/月/サイト |
| GitHub Actions | 自動ビルド＆デプロイ | 2,000分/月（Org全体） |
| Google Sheets | データソース（ランキング等） | 顧客側で用意 |

### スケーラビリティ
- 設定変更がほぼない運用の場合、Actions分数をほとんど消費しない
- **100人以上の顧客対応が技術的に可能**
- 帯域制限もLP程度のアクセスなら問題なし

---

## 顧客セットアップフロー

### 顧客から受領する情報
1. **GoogleスプレッドシートID**（必須）
2. ブランド名・配信者名
3. ロゴ画像・背景画像（あれば）
4. カラー希望（あれば）

### 開発者側の作業手順
```
1. GitHub Org内に新規リポジトリを作成
   例:                                       ng-dashboards/customer-name-lp

2. テンプレートからリポジトリを複製

3. 管理画面（/admin.html）を開く
   - ブランディングタブ: 名前・画像を設定
   - カラータブ: テーマカラーを調整
   - Google Sheetsタブ: スプレッドシートIDを入力
   - ビュー管理タブ: 必要なビューを設定
   - 特典ティアタブ: ティア情報を設定

4. デプロイタブで接続設定を入力
   - Owner: colorsing-dashboard
   - Repo: customer-name-lp
   - Branch: main
   - Token: Fine-grained PAT

5. デプロイボタンを押す → GitHub Actionsで自動ビルド

6. GitHub Pages を有効化
   Settings → Pages → Source: GitHub Actions

7. 顧客にURLを共有
   例: https://colorsing-dashboard.github.io/customer-name-lp/
```

### 設定変更が必要な場合
管理画面を開いてデプロイボタンを押すだけで本番反映される。

---

## GitHub Organization 運用

### Organization名の例
- `colorsing-dashboard`
- `colorsing-pages`

### メリット
- URLに個人名（magurophone等）が入らない
- 顧客ごとのリポジトリを一元管理
- プライベートリポジトリは不要（LICENSEで保護）
- ソースコードが見えても、ターゲット顧客（配信者）はReactコードを扱えない

### PAT（Personal Access Token）管理
- Fine-grained token を使用
- 権限: Contents → Read and write のみ
- Repository access: 対象リポジトリのみに限定
- 有効期限: 運用者専用なので No expiration でも可

---

## 知的財産保護

### ライセンス
プロプライエタリライセンス（All rights reserved）を採用済み。

- 複製・改変・配布・サブライセンスを禁止
- サービスとして提供し、ソースコードのライセンスは付与しない
- 英語・日本語併記

### 実質的な保護
- ターゲット顧客（配信者）はフロントエンド開発の知識がない
- Reactのソースコードを見ても再現は困難
- ビルド済みファイルからの逆コンパイルも実用的ではない
- ライセンスファイルによる法的抑止力

---

## 顧客サポート

### LINE Official Account（無料）
- **用途**: 不具合報告・問い合わせの受信
- **モード**: チャットモード（1:1トーク）
- **メリット**:
  - メールより見逃しにくい
  - 配信者にとって馴染みのあるツール
  - 無料で運用可能（月200通までメッセージ送信無料）
  - 受信は無制限

### サポート範囲（月額に含む）
- 表示不具合の報告対応
- スプレッドシートの構造に関する質問
- 軽微な設定変更依頼

---

## 解約・停止フロー

```
1. 顧客がカラーシングのメンバーシップを退会
2. 開発者がメンバーシップ退会を確認
3. GitHub Pages を無効化
   → リポジトリ Settings → Pages → 無効化
4. 即座にページがアクセス不可に
5. リポジトリはアーカイブ（再開に備えて保持）または削除
```

メンバーシップ退会 = サービス停止が明確に紐づく。

---

## 運用コスト

| 項目 | 月額コスト |
|------|-----------|
| GitHub Organization (Free) | 0円 |
| GitHub Pages | 0円 |
| GitHub Actions | 0円 |
| LINE Official Account | 0円 |
| **合計** | **0円** |

すべて無料枠で運用可能。売上がそのまま利益になる。

---

## 改善ロードマップ

### 1. 枠内アイコン: カテゴリ名パターン対応
- **現状**: 月別パターン（1月, 2月, ...）のみ対応
- **課題**: カテゴリ名ベースのアイコン管理に未対応
- **対応**: カテゴリ名パターンのビュー生成に対応する
- **優先度**: 高（顧客の運用パターンに直結）

### 2. カラー設定の細分化
- **現状**: パレットで自由に色を選択可能だが、適用箇所が大まか
- **課題**: 背景・テキスト・ボーダー・アクセントなど要素ごとに色を指定したい
- **対応**: 適用対象を細かく分けたカラー設定UIを構築
- **優先度**: 中（差別化に直結する見た目のカスタマイズ性）

### 3. フォント選択機能
- **現状**: フォント選択機能なし
- **課題**: 顧客ごとの世界観に合わせたフォントを使いたい
- **対応**: Google Fonts API を利用し、カテゴリ別にフォントを取得・選択可能にする
  | カテゴリ | 用途イメージ |
  |---------|------------|
  | serif | 格式・高級感のあるLP |
  | sans-serif | モダン・すっきりしたLP |
  | display | インパクト・個性的なLP |
  | handwriting | やわらかい・親しみやすいLP |
- **コスト**: Google Fonts は完全無料。API呼び出しも無料
- **優先度**: 中

### 4. 絵文字のカスタム画像化
- **現状**: デフォルトのシステム絵文字を使用
- **課題**: デフォルト絵文字はデザイン的に安っぽい
- **対応案**:
  - A) カスタム画像アイコンをアップロードして差し替え
  - B) アイコンライブラリ（例: Font Awesome, Lucide）から選択
- **コスト**: Aは画像作成コストあり、Bはほぼゼロ
- **優先度**: 低（見た目の質は上がるがコスト対効果を要検討）

### 5. 顧客オンボーディング整備
- **現状**: セットアップは手動でヒアリング
- **課題**: 顧客数が増えるとヒアリングが非効率
- **対応**:
  - **質問票（Googleフォーム）**: 顧客に必要情報を入力してもらう
    - スプレッドシートID、配信者名、カラー希望、ロゴ画像等
    - 理想: フォーム回答 → 管理画面に自動入力（GAS連携）
  - **利用マニュアル（HTML）**: 顧客向けの使い方ガイド
    - LPの見方、スプレッドシートの更新方法、不具合報告の仕方等
    - HTMLで作成し、GitHub Pagesで公開
- **優先度**: 高（顧客数スケールに直結）

### 済: トークン発行フロー
- Fine-grained PAT の発行手順は管理画面のデプロイタブに組み込み済み
- 直リンク付きで迷わない導線を確保

---

## テンプレート同期（コード一元管理）

### 概要
テンプレートリポジトリでバグ修正や機能追加を行った際、全顧客リポジトリにコードを反映する仕組み。
顧客固有の設定（`public/config.js`）は保持し、コード部分のみを更新する。

### アーキテクチャ
```
テンプレートリポジトリ（開発用）
  │  コード修正・機能追加
  │
  ├── 手動実行: bash scripts/sync-all.sh
  │
  ├─→ customer-a-lp（config.js保持、コードのみ更新）
  │     └─→ GitHub Actions 自動ビルド＆デプロイ
  ├─→ customer-b-lp（同上）
  └─→ ...
```

### 顧客リポジトリの管理
`customers.json` で同期対象の顧客リポジトリを管理する。
```json
{
  "org": "colorsing-dashboard",
  "repos": ["customer-a-lp", "customer-b-lp"]
}
```
新規顧客を追加した際は、このファイルにリポジトリ名を追記する。

### 更新手順

#### 方法1: 一括更新スクリプト（推奨）
```bash
# テンプレートリポジトリのルートで実行
bash scripts/sync-all.sh
```
- `customers.json` に登録された全顧客リポを自動更新
- `public/config.js` は各顧客側を常に保持
- プッシュにより各顧客リポの GitHub Actions が自動トリガー
- 結果サマリー（成功/スキップ/失敗）を表示

#### 方法2: 手動更新（個別対応）
```bash
# 1. 顧客リポをクローン
git clone https://github.com/colorsing-dashboard/customer-name-lp.git
cd customer-name-lp

# 2. テンプレートをリモートに追加してマージ
git remote add template /path/to/template-repo
git fetch template main
git merge template/main --no-edit

# 3. config.js がコンフリクトした場合は顧客側を採用
git checkout --ours public/config.js
git add public/config.js
git commit --no-edit

# 4. プッシュ → GitHub Actions が自動デプロイ
git push
```

### 新規顧客追加時のチェックリスト
1. GitHub Org内に新規リポジトリを作成
2. テンプレートからクローン
3. 管理画面で設定 → デプロイ
4. GitHub Pages を有効化
5. **`customers.json` にリポジトリ名を追記**（忘れると同期対象外になる）

### スケーリング計画
| 顧客数 | 更新方式 | 備考 |
|--------|---------|------|
| 1〜10人 | `sync-all.sh` ローカル実行 | 現在の方式。十分実用的 |
| 10〜50人 | 同上 | 実行時間が数分に延びるが問題なし |
| 50人以上 | PR方式の自動化を検討 | GitHub App + 署名付きコミット + ブランチ保護 |

---

## まとめ

| 項目 | 内容 |
|------|------|
| ビジネスモデル | メンバーシップ連動サブスク（初期費用無料・月額800円） |
| インフラ | GitHub Org + Pages + Actions（全無料） |
| データソース | Google Sheets（顧客側） |
| デプロイ | 管理画面からボタン一押し |
| ライセンス | プロプライエタリ（All rights reserved） |
| サポート | LINE Official Account |
| スケーラビリティ | 100人以上対応可能 |
| 運用コスト | 0円 |
